<!DOCTYPE html>
<html prefix="" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>#SWDchallenge: Graph makeover | Nicolás' blog</title>
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../../es/rss.xml">
<link rel="canonical" href="https://nicoguaro.github.io/posts/graph_makeover/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Nicolás Guarín-Zapata">
<link rel="prev" href="../isometric_inkscape2/" title="Isometric graphics in Inkscape: Part 2" type="text/html">
<link rel="next" href="../ortografia_jupyter/" title="Spell Check in Jupyter Notebook" type="text/html">
<meta property="og:site_name" content="Nicolás' blog">
<meta property="og:title" content="#SWDchallenge: Graph makeover">
<meta property="og:url" content="https://nicoguaro.github.io/posts/graph_makeover/">
<meta property="og:description" content="At storytelling with data, they run
a monthly challenge on data visualization named
#SWDchallenge. The main
idea of the challenges is to test data visualization and
storytelling skills.
Each month the">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-07-12T18:32:40-05:00">
<meta property="article:tag" content="papers">
<meta property="article:tag" content="python">
<meta property="article:tag" content="visualization">
<link rel="alternate" hreflang="es" href="../../es/posts/graph_makeover/">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
            styles, `#sidebar-checkbox` for behavior. -->
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><!-- Toggleable sidebar --><div class="sidebar" id="sidebar">
        <div class="sidebar-item">
            <p>A reserved <a href="https://getnikola.com" target="_blank">Nikola</a> theme that places the utmost gravity on content with a hidden drawer. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a> for Jekyll,
            ported to Nikola by <a href="https://twitter.com/ralsina" target="_blank">@ralsina</a>.</p>
        </div>
        
    <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../pages/about/">About</a>
        <a class="sidebar-nav-item" href="../../index.html">Blog</a>
        <a class="sidebar-nav-item" href="../../pages/preprints-archive/">Preprints</a>
        <a class="sidebar-nav-item" href="../../pages/links/">Links</a>
        <a class="sidebar-nav-item" href="../../archive.html">Archive</a>
        <a class="sidebar-nav-item" href="../../categories/">Tags</a>
        <a class="sidebar-nav-item" href="../../rss.xml">RSS feed</a>
    
    
    </nav>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          
    <h3 id="brand" class="masthead-title">
      <a href="https://nicoguaro.github.io/" title="Nicolás' blog" rel="home">Nicolás' blog</a>
    </h3>

        </div>
      </div>

      <div class="container content" id="content">
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="post-title p-name entry-title" itemprop="headline name"><a href="." class="u-url">#SWDchallenge: Graph makeover</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Nicolás Guarín-Zapata</span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="post-date published dt-published" datetime="2018-07-12T18:32:40-05:00" itemprop="datePublished" title="2018-07-12 18:32">2018-07-12 18:32</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/graph_makeover.html">Comments</a>


        </p>
</div>
        
        <div class="metadata posttranslations translations">
            <h3 class="posttranslations-intro">Also available in:</h3>
                <p><a href="../../es/posts/graph_makeover/" rel="alternate" hreflang="es">Español</a></p>
        </div>

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>At <a class="reference external" href="http://www.storytellingwithdata.com/">storytelling with data</a>, they run
a monthly challenge on data visualization named
<a class="reference external" href="http://www.storytellingwithdata.com/swdchallenge/">#SWDchallenge</a>. The main
idea of the challenges is to test data visualization and
storytelling skills.</p>
<p>Each month the challenge has a different topic. This
<a class="reference external" href="http://www.storytellingwithdata.com/blog/2018/7/1/swdchallenge-your-choice-makeover">month</a>
the challenge was to improve an existing graph. I decided to take a previous
graph of mine that was published on a
<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1742706115002172">paper</a>
that was published on 2015.</p>
<div class="section" id="the-original">
<h2>The "original"</h2>
<p>The following is the graph that we are going to start with.</p>
<img alt="Original plot" class="align-center" src="../../images/graph_makeover/energy_vs_D_orig.svg" style="width: 600px;"><p>This is not the exact same graph that was presented in the article on 2015, but
it serves the purpose of the challenge. The data can be downloaded from
<a class="reference external" href="../../downloads/Energy_vs_D.csv">here</a>. This graph present the fraction of energy (<span class="math">\(\eta\)</span>) transmitted for helical composites
with different geometrical parameters. The parameters varied were:</p>
<ul class="simple">
<li><p>Pitch angle <span class="math">\(\alpha\)</span>: the angle between consecutive layers;</p></li>
<li><p>Composite thickness <span class="math">\(D\)</span>, that is normalized to the wavelength <span class="math">\(\lambda\)</span>; and</p></li>
<li><p>Number of layers <span class="math">\(N\)</span> in each cell of the composite.</p></li>
</ul>
<p>The following schematic illustrate these parameters.</p>
<img alt="Composites" class="align-center" src="../../images/graph_makeover/coordinates_and_cells.png" style="width: 600px;"><p>I would not say that the graph is awful, and, in comparison to what you would
find in most scientific literature it is even good. But … in the land of the
blind, the one-eyed is king. So, let's enumerate what are the <em>sins</em> of the
plot and see if we can correct them:</p>
<ul class="simple">
<li><p>It has two x axes.</p></li>
<li><p>The legend is enclosed in a box that seems unnecessary.</p></li>
<li><p>Right and top spines are not contributing to the plot.</p></li>
<li><p>Annotations are stealing protagonism from the data.</p></li>
<li><p>It looks clutterd with lines and markers.</p></li>
<li><p>It is a <a class="reference external" href="http://www.storytellingwithdata.com/blog/2013/03/avoiding-spaghetti-graph">spaghetti graph</a>.</p></li>
</ul>
<p>The following snippet generates this graph.</p>
<pre class="code python"><a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-1"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-2"></a><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-3"></a><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-4"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-5"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'font.family'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'serif'</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-6"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'font.size'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-7"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'legend.fontsize'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-8"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'mathtext.fontset'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'cm'</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-9"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-10"></a><span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'o'</span><span class="p">,</span> <span class="s1">'^'</span><span class="p">,</span> <span class="s1">'v'</span><span class="p">,</span> <span class="s1">'s'</span><span class="p">,</span> <span class="s1">'&lt;'</span><span class="p">,</span> <span class="s1">'&gt;'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">,</span> <span class="s1">'*'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">,</span> <span class="s1">'+'</span><span class="p">,</span> <span class="s1">'H'</span><span class="p">]</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-11"></a><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">"Energy_vs_D.csv"</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">","</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-12"></a><span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">"Energy_vs_D.csv"</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">","</span><span class="p">,</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-13"></a>                    <span class="n">usecols</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-14"></a><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-15"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-16"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-17"></a><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-18"></a><span class="k">for</span> <span class="n">cont</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-19"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="n">cont</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="n">markers</span><span class="p">[</span><span class="n">cont</span><span class="p">],</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-20"></a>             <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">"$D/\lambda=</span><span class="si">{:.3g}</span><span class="s2">$"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">labels</span><span class="p">[</span><span class="n">cont</span><span class="p">]))</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-21"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-22"></a><span class="c1"># First x-axis</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-23"></a><span class="n">xticks</span><span class="p">,</span> <span class="n">xlabels</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">()</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-24"></a><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">"Number of layers - $N$"</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-25"></a><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">"Fraction of Energy - $\eta$"</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-26"></a><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'center left'</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-27"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-28"></a><span class="c1"># Second x-axis</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-29"></a><span class="n">ax2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">twiny</span><span class="p">()</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-30"></a><span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">xticks</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-31"></a><span class="n">ax2</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="mf">180.</span><span class="o">/</span><span class="n">xticks</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-32"></a><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">"Angle - $\alpha\ (^\circ)$"</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-33"></a>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-34"></a><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-35"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">"energy_vs_D_orig.svg"</span><span class="p">)</span>
<a name="rest_code_ae82c0546b064fdea20bda1a4e9675e7-36"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">"energy_vs_D_orig.png"</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="corrections">
<h2>Corrections</h2>
<p>I will vindicate the graph one <em>sin</em> at a time, let's see how it turns out.</p>
<div class="section" id="it-has-two-x-axes">
<h3>It has two x axes</h3>
<p>I, originally, added two axes to show both the number of layers
and the angle between them at the same time. The general recommendation is
to avoid this, so let's get rid of the top one.</p>
<img alt="First iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_1.svg" style="width: 600px;">
</div>
<div class="section" id="legend-in-a-box">
<h3>Legend in a box</h3>
<p>Pretty straightforward …</p>
<img alt="Second iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_2.svg" style="width: 600px;">
</div>
<div class="section" id="right-and-top-spines">
<h3>Right and top spines</h3>
<p>Let's remove them</p>
<img alt="Third iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_3.svg" style="width: 600px;">
</div>
<div class="section" id="annotations-are-stealing-protagonism">
<h3>Annotations are stealing protagonism</h3>
<p>Let's move all the annotations to the background by changing the color
to a lighter gray.</p>
<img alt="Fourth iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_4.svg" style="width: 600px;">
</div>
<div class="section" id="clutterd-with-lines-and-markers">
<h3>Clutterd with lines and markers</h3>
<p>Let's just keep the lines.</p>
<img alt="Fifth iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_5.svg" style="width: 600px;"><p>And increase the linewidth.</p>
<img alt="Sixth iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_6.svg" style="width: 600px;">
</div>
<div class="section" id="it-is-a-spaghetti-graph">
<h3>It is a spaghetti graph</h3>
<p>I think that a good option for this graph would be to highlight
one line at a time. Doing this, we end up with.</p>
<img alt="Seventh iteration" class="align-center" src="../../images/graph_makeover/energy_vs_D_7.svg" style="width: 600px;"><p>The following snippet generates this version.</p>
<pre class="code python"><a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-1"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-2"></a><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-3"></a><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-4"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-5"></a><span class="c1"># Plots setup</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-6"></a><span class="n">gray</span> <span class="o">=</span> <span class="s1">'#757575'</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-7"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"mathtext.fontset"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"cm"</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-8"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"text.color"</span><span class="p">]</span> <span class="o">=</span> <span class="n">gray</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-9"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"xtick.color"</span><span class="p">]</span> <span class="o">=</span> <span class="n">gray</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-10"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"ytick.color"</span><span class="p">]</span> <span class="o">=</span> <span class="n">gray</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-11"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"axes.labelcolor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">gray</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-12"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"axes.edgecolor"</span><span class="p">]</span> <span class="o">=</span> <span class="n">gray</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-13"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"axes.spines.right"</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-14"></a><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"axes.spines.top"</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-15"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'font.family'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'serif'</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-16"></a><span class="n">rcParams</span><span class="p">[</span><span class="s1">'mathtext.fontset'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'cm'</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-17"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-18"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-19"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-20"></a><span class="k">def</span> <span class="nf">line_plots</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">highlight_line</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-21"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-22"></a>    <span class="k">for</span> <span class="n">cont</span><span class="p">,</span> <span class="n">datum</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">T</span><span class="p">):</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-23"></a>        <span class="k">if</span> <span class="n">cont</span> <span class="o">==</span> <span class="n">highlight_line</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-24"></a>            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">datum</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"#984ea3"</span><span class="p">,</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-25"></a>                     <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-26"></a>        <span class="k">else</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-27"></a>            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">datum</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">gray</span><span class="p">,</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-28"></a>                     <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-29"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-30"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-31"></a><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">"Energy_vs_D.csv"</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">","</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-32"></a><span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">"Energy_vs_D.csv"</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">","</span><span class="p">,</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-33"></a>                    <span class="n">usecols</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-34"></a><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-35"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-36"></a><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">"all"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-37"></a><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-38"></a><span class="k">for</span> <span class="n">cont</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-39"></a>    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">cont</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-40"></a>    <span class="n">title</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"$D/\lambda=</span><span class="si">{:.3g}</span><span class="s2">$"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">labels</span><span class="p">[</span><span class="n">cont</span><span class="p">])</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-41"></a>    <span class="n">line_plots</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cont</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-42"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-43"></a>    <span class="k">if</span> <span class="n">cont</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-44"></a>        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-45"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-46"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">"bottom"</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">"none"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-47"></a>    <span class="k">else</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-48"></a>        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">"Number of layers - $N$"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-49"></a>    <span class="k">if</span> <span class="n">cont</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-50"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-51"></a>        <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">"left"</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">"none"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-52"></a>    <span class="k">else</span><span class="p">:</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-53"></a>        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">"Fraction of Energy - $\eta$"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-54"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-55"></a>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-56"></a><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-57"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">"energy_vs_D_7.svg"</span><span class="p">)</span>
<a name="rest_code_402ba4fb45c44964938fec9bcde48c1e-58"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">"energy_vs_D_7.png"</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre>
</div>
</div>
<div class="section" id="final-tweaks">
<h2>Final tweaks</h2>
<p>Using Inkscape I added some final details to get the following version.</p>
<img alt="Final" class="align-center" src="../../images/graph_makeover/energy_vs_D_final.svg" style="width: 600px;">
</div>
<div class="section" id="further-reading">
<h2>Further reading</h2>
<ul class="simple">
<li><p>Knaflic, Cole Nussbaumer. <a class="reference external" href="http://www.storytellingwithdata.com/book/">Storytelling with data: A data visualization guide for business professionals</a>.
John Wiley &amp; Sons, 2015.</p></li>
<li><p>Nicolás Guarín-Zapata et al. <a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1742706115002172">"Shear wave filtering in naturally-occurring Bouligand structures."</a>
Acta biomaterialia 23 (2015): 11-20. Preprint: <a class="reference external" href="https://arxiv.org/pdf/1505.04203.pdf">https://arxiv.org/pdf/1505.04203.pdf</a></p></li>
</ul>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/papers/" rel="tag">papers</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/visualization/" rel="tag">visualization</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../isometric_inkscape2/" rel="prev" title="Isometric graphics in Inkscape: Part 2">Previous post</a>
            </li>
            <li class="next">
                <a href="../ortografia_jupyter/" rel="next" title="Spell Check in Jupyter Notebook">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nicoguaro-github",
            disqus_url="https://nicoguaro.github.io/posts/graph_makeover/",
        disqus_title="#SWDchallenge: Graph makeover",
        disqus_identifier="cache/posts/graph_makeover.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article><script>var disqus_shortname="nicoguaro-github";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2021 <a href="mailto:nicoguarin@gmail.com">Nicolás Guarín-Zapata</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> 
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a></p>
            
        </footer>
</div>
    </div>
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-145359674-1', 'auto');
ga('send', 'pageview');
</script><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
